/**
 * Plugin for adding video to the rich text editor
 * This will popped up the text input for user to put the embed video
 */

tinymce.PluginManager.add('video', function (editor, url) {
  editor.addButton('video', {
    icon: 'media',
    tooltip: 'Insert video',
    onclick: function () {
      editor.windowManager.open({
        title: 'Insert video',
        body: [
          { type: 'textbox', name: 'embedVideo', label: 'Embed Video', multiline: true, minWidth: 300, minHeight: 100 }
        ],
        onsubmit: function(e) {
          editor.insertContent('<div class="video">' + e.data.embedVideo + '</div>');
        }
      });
    }
  });
});
